import{d as x,o as i,c,a as e,w as s,e as o,h as p,t as r,F as b,x as h,r as u,L as S,f as C,M as R,N as $,O as A,P as U,Q as z,R as N,S as w}from"./vendor-BP1jr3bt.js";import{u as D}from"./analysis-Crgjx2w2.js";import{R as L,A as T,U as V,L as B,c as F}from"./ReportCard-CUvSQNig.js";import{_ as E}from"./index-BvwGMFbf.js";const P=a=>new Promise(m=>setTimeout(m,a)),M=async a=>(await P(2e3),{id:Date.now().toString(),timestamp:new Date().toISOString(),analysisType:"eye",features:{eyeColor:"正常",pupilSize:"正常",eyeShape:"正常",eyelid:"正常",bloodshot:"轻微"},constitution:{type:"阴虚质",probability:72,description:"眼部略有血丝，可能为用眼过度或阴虚"},healthAdvice:{diet:["多食滋阴食物如银耳、百合","避免辛辣刺激"],lifestyle:["减少用眼时间","保证充足睡眠"],precautions:["注意眼部休息","避免熬夜"]},confidence:85}),O={class:"eye-report"},Q={class:"section"},j={class:"section"},q={class:"section"},G={class:"advice-list"},H={class:"advice-list"},J={class:"advice-list"},K=x({__name:"EyeReport",props:{data:{}},setup(a){return(m,l)=>{const n=u("el-descriptions-item"),_=u("el-descriptions"),y=u("el-progress"),v=u("el-alert"),f=u("el-tab-pane"),g=u("el-tabs");return i(),c("div",O,[e(L,{title:"眼诊分析报告",confidence:a.data.confidence},{default:s(()=>[o("div",Q,[l[0]||(l[0]=o("h4",{class:"section-title"},"眼部特征",-1)),e(_,{column:2,border:""},{default:s(()=>[e(n,{label:"眼白颜色"},{default:s(()=>[p(r(a.data.features.eyeColor),1)]),_:1}),e(n,{label:"瞳孔大小"},{default:s(()=>[p(r(a.data.features.pupilSize),1)]),_:1}),e(n,{label:"眼形"},{default:s(()=>[p(r(a.data.features.eyeShape),1)]),_:1}),e(n,{label:"眼睑状态"},{default:s(()=>[p(r(a.data.features.eyelid),1)]),_:1}),e(n,{label:"血丝情况"},{default:s(()=>[p(r(a.data.features.bloodshot),1)]),_:1})]),_:1})]),o("div",j,[l[1]||(l[1]=o("h4",{class:"section-title"},"体质分析",-1)),e(v,{title:a.data.constitution.type,type:"info",closable:!1},{default:s(()=>[o("p",null,r(a.data.constitution.description),1),e(y,{percentage:a.data.constitution.probability},null,8,["percentage"])]),_:1},8,["title"])]),o("div",q,[l[2]||(l[2]=o("h4",{class:"section-title"},"健康建议",-1)),e(g,null,{default:s(()=>[e(f,{label:"饮食建议"},{default:s(()=>[o("ul",G,[(i(!0),c(b,null,h(a.data.healthAdvice.diet,(d,t)=>(i(),c("li",{key:t},r(d),1))),128))])]),_:1}),e(f,{label:"生活方式"},{default:s(()=>[o("ul",H,[(i(!0),c(b,null,h(a.data.healthAdvice.lifestyle,(d,t)=>(i(),c("li",{key:t},r(d),1))),128))])]),_:1}),e(f,{label:"注意事项"},{default:s(()=>[o("ul",J,[(i(!0),c(b,null,h(a.data.healthAdvice.precautions,(d,t)=>(i(),c("li",{key:t},r(d),1))),128))])]),_:1})]),_:1})])]),_:1},8,["confidence"])])}}}),W=E(K,[["__scopeId","data-v-9964a724"]]),X={class:"analysis-container"},Y={class:"container"},Z={key:0,class:"step-content"},ee={key:1,class:"step-content"},te={key:2,class:"step-content"},ae={class:"action-buttons"},se=x({__name:"EyeAnalysis",setup(a){const m=D(),l=A(1),n=A(null),_=A(""),y=[{title:"上传图片",description:"选择或拖拽眼部照片",icon:U},{title:"AI分析",description:"正在分析中",icon:z},{title:"查看报告",description:"分析完成",icon:N}],v=async d=>{try{_.value=F(d),l.value=2;const t=await M(d);n.value=t,l.value=3}catch(t){w.error("分析失败，请重试"),l.value=1,console.error("分析错误:",t)}},f=()=>{n.value&&(m.addRecord({id:n.value.id,analysisType:"eye",timestamp:n.value.timestamp,imageUrl:_.value,result:n.value}),w.success("报告已保存到历史记录"))},g=()=>{l.value=1,n.value=null,_.value=""};return(d,t)=>{const I=u("el-icon"),k=u("el-button");return i(),c("div",X,[o("div",Y,[t[2]||(t[2]=o("h1",{class:"page-title"},"眼诊分析",-1)),t[3]||(t[3]=o("p",{class:"page-description"},"请上传清晰的眼部照片，AI将为您分析眼部特征和健康状况",-1)),e(T,{steps:y,"current-step":l.value},null,8,["current-step"]),l.value===1?(i(),c("div",Z,[e(V,{onImageUploaded:v})])):S("",!0),l.value===2?(i(),c("div",ee,[e(B,{message:"AI正在分析眼部特征，请稍候..."})])):S("",!0),l.value===3&&n.value?(i(),c("div",te,[e(W,{data:n.value},null,8,["data"]),o("div",ae,[e(k,{type:"primary",size:"large",onClick:f},{default:s(()=>[e(I,null,{default:s(()=>[e(C(R))]),_:1}),t[0]||(t[0]=p(" 保存报告 ",-1))]),_:1}),e(k,{size:"large",onClick:g},{default:s(()=>[e(I,null,{default:s(()=>[e(C($))]),_:1}),t[1]||(t[1]=p(" 重新分析 ",-1))]),_:1})])])):S("",!0)])])}}}),ce=E(se,[["__scopeId","data-v-f953c9cf"]]);export{ce as default};
