import{d as F,o as i,c,a as e,w as s,e as o,h as _,t as d,F as h,x as b,r as u,L as A,f as S,M as R,N as $,O as k,P as T,Q as U,R as N,S as w}from"./vendor-BP1jr3bt.js";import{u as D}from"./analysis-Crgjx2w2.js";import{R as L,A as V,U as z,L as B,c as P}from"./ReportCard-CUvSQNig.js";import{_ as C}from"./index-BvwGMFbf.js";const E=a=>new Promise(m=>setTimeout(m,a)),M=async a=>(await E(2e3),{id:Date.now().toString(),timestamp:new Date().toISOString(),analysisType:"face",features:{complexion:"红润",skinTexture:"细腻",eyeArea:"正常",mouthArea:"正常",forehead:"正常"},constitution:{type:"平和质",probability:78,description:"面色红润，精神状态良好"},healthAdvice:{diet:["保持均衡饮食","多食新鲜蔬果"],lifestyle:["规律作息","适度运动"],precautions:["保持心情愉悦","定期体检"]},confidence:88}),O={class:"face-report"},Q={class:"section"},j={class:"section"},q={class:"section"},G={class:"advice-list"},H={class:"advice-list"},J={class:"advice-list"},K=F({__name:"FaceReport",props:{data:{}},setup(a){return(m,l)=>{const n=u("el-descriptions-item"),p=u("el-descriptions"),v=u("el-progress"),y=u("el-alert"),f=u("el-tab-pane"),g=u("el-tabs");return i(),c("div",O,[e(L,{title:"面诊分析报告",confidence:a.data.confidence},{default:s(()=>[o("div",Q,[l[0]||(l[0]=o("h4",{class:"section-title"},"面色特征",-1)),e(p,{column:2,border:""},{default:s(()=>[e(n,{label:"面色"},{default:s(()=>[_(d(a.data.features.complexion),1)]),_:1}),e(n,{label:"皮肤质地"},{default:s(()=>[_(d(a.data.features.skinTexture),1)]),_:1}),e(n,{label:"眼部区域"},{default:s(()=>[_(d(a.data.features.eyeArea),1)]),_:1}),e(n,{label:"口唇区域"},{default:s(()=>[_(d(a.data.features.mouthArea),1)]),_:1}),e(n,{label:"前额区域"},{default:s(()=>[_(d(a.data.features.forehead),1)]),_:1})]),_:1})]),o("div",j,[l[1]||(l[1]=o("h4",{class:"section-title"},"体质分析",-1)),e(y,{title:a.data.constitution.type,type:"info",closable:!1},{default:s(()=>[o("p",null,d(a.data.constitution.description),1),e(v,{percentage:a.data.constitution.probability},null,8,["percentage"])]),_:1},8,["title"])]),o("div",q,[l[2]||(l[2]=o("h4",{class:"section-title"},"健康建议",-1)),e(g,null,{default:s(()=>[e(f,{label:"饮食建议"},{default:s(()=>[o("ul",G,[(i(!0),c(h,null,b(a.data.healthAdvice.diet,(r,t)=>(i(),c("li",{key:t},d(r),1))),128))])]),_:1}),e(f,{label:"生活方式"},{default:s(()=>[o("ul",H,[(i(!0),c(h,null,b(a.data.healthAdvice.lifestyle,(r,t)=>(i(),c("li",{key:t},d(r),1))),128))])]),_:1}),e(f,{label:"注意事项"},{default:s(()=>[o("ul",J,[(i(!0),c(h,null,b(a.data.healthAdvice.precautions,(r,t)=>(i(),c("li",{key:t},d(r),1))),128))])]),_:1})]),_:1})])]),_:1},8,["confidence"])])}}}),W=C(K,[["__scopeId","data-v-1f48bf66"]]),X={class:"analysis-container"},Y={class:"container"},Z={key:0,class:"step-content"},ee={key:1,class:"step-content"},te={key:2,class:"step-content"},ae={class:"action-buttons"},se=F({__name:"FaceAnalysis",setup(a){const m=D(),l=k(1),n=k(null),p=k(""),v=[{title:"上传图片",description:"选择或拖拽面部照片",icon:T},{title:"AI分析",description:"正在分析中",icon:U},{title:"查看报告",description:"分析完成",icon:N}],y=async r=>{try{p.value=P(r),l.value=2;const t=await M(r);n.value=t,l.value=3}catch(t){w.error("分析失败，请重试"),l.value=1,console.error("分析错误:",t)}},f=()=>{n.value&&(m.addRecord({id:n.value.id,analysisType:"face",timestamp:n.value.timestamp,imageUrl:p.value,result:n.value}),w.success("报告已保存到历史记录"))},g=()=>{l.value=1,n.value=null,p.value=""};return(r,t)=>{const I=u("el-icon"),x=u("el-button");return i(),c("div",X,[o("div",Y,[t[2]||(t[2]=o("h1",{class:"page-title"},"面诊分析",-1)),t[3]||(t[3]=o("p",{class:"page-description"},"请上传清晰的面部照片，AI将为您分析面色、纹理等特征",-1)),e(V,{steps:v,"current-step":l.value},null,8,["current-step"]),l.value===1?(i(),c("div",Z,[e(z,{onImageUploaded:y})])):A("",!0),l.value===2?(i(),c("div",ee,[e(B,{message:"AI正在分析面部特征，请稍候..."})])):A("",!0),l.value===3&&n.value?(i(),c("div",te,[e(W,{data:n.value},null,8,["data"]),o("div",ae,[e(x,{type:"primary",size:"large",onClick:f},{default:s(()=>[e(I,null,{default:s(()=>[e(S(R))]),_:1}),t[0]||(t[0]=_(" 保存报告 ",-1))]),_:1}),e(x,{size:"large",onClick:g},{default:s(()=>[e(I,null,{default:s(()=>[e(S($))]),_:1}),t[1]||(t[1]=_(" 重新分析 ",-1))]),_:1})])])):A("",!0)])])}}}),ce=C(se,[["__scopeId","data-v-1055d270"]]);export{ce as default};
